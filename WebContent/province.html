!Templates.html5.content!
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJAX省市联动(返回XML)</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<script>
var req;
function getCity()
{
    var stateVal=document.getElementById("province").value;
    var url = "ChangeServlet";
    if (window.XMLHttpRequest)
    {
        req = new XMLHttpRequest();
    }
    else if (window.ActiveXObject)
    {
        req = new ActiveXObject("Microsoft.XMLHTTP");
    }
    
    if (req) 
    {
        //采用POST方式，异步传输
        req.open("post", url, true);
        //POST方式，必须加入如下头信息设定
        req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
        req.onreadystatechange = complete;
        req.send("province=" + stateVal);
    }
}
//回调函数
function complete() 
{
    if (req.readyState == 4 && req.status == 200)
    {
            var city = req.responseXML.getElementsByTagName("city");
            var str = new Array();
            sel=document.getElementById("city");
            sel.options.length=0;
            for (var i = 0; i < city.length; i++) 
            {
                str[i] = city[i].firstChild.data;
                sel.options[sel.options.length] = new Option(str[i], str[i]);
            }
    }
}
function get()
{
    alert(document.getElementById("province").value + "省" + document.getElementById("city").value +"市");
}
</script>
</head>
<body>
    <div class="col-md-4">
        <label style="font-size:25px;color:red">AJAX省市联动(返回XML)</label>
        <select id="province" class="form-control input-lg" onchange="getCity()">
            <option value="">选择省份</option>
            <option value="陕西">陕西</option>
            <option value="山东">山东</option>
        </select>
        <select id="city"  class="form-control input-lg" style="margin-top: 10px">
            <option value="">选择城市</option>
        </select>
        <button type="button" style="margin-top: 10px" class="btn btn-primary btn-lg btn-block" onclick="get()">获    取</button>
    </div>
</body>